<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../resources/report.gif" type="image/gif"/><title>MapChartActivity.java</title><link rel="stylesheet" href="../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">app</a> &gt; <a href="index.source.html" class="el_package">deltagraphs.norrisviewer.view.graphsView</a> &gt; <span class="el_source">MapChartActivity.java</span></div><h1>MapChartActivity.java</h1><pre class="source lang-java linenums">package deltagraphs.norrisviewer.view.graphsView;

import android.support.v4.app.FragmentActivity;
import android.os.Bundle;

import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.SupportMapFragment;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.MarkerOptions;

import deltagraphs.norrisviewer.R;

<span class="nc" id="L13">public class MapChartActivity extends FragmentActivity {</span>

    private GoogleMap mMap; // Might be null if Google Play services APK is not available.

    @Override
    protected void onCreate(Bundle savedInstanceState) {
<span class="nc" id="L19">        super.onCreate(savedInstanceState);</span>
<span class="nc" id="L20">        setContentView(R.layout.activity_map_chart);</span>
<span class="nc" id="L21">        setUpMapIfNeeded();</span>
<span class="nc" id="L22">    }</span>

    @Override
    protected void onResume() {
<span class="nc" id="L26">        super.onResume();</span>
<span class="nc" id="L27">        setUpMapIfNeeded();</span>
<span class="nc" id="L28">    }</span>

    /**
     * Sets up the map if it is possible to do so (i.e., the Google Play services APK is correctly
     * installed) and the map has not already been instantiated.. This will ensure that we only ever
     * call {@link #setUpMap()} once when {@link #mMap} is not null.
     * &lt;p/&gt;
     * If it isn't installed {@link SupportMapFragment} (and
     * {@link com.google.android.gms.maps.MapView MapView}) will show a prompt for the user to
     * install/update the Google Play services APK on their device.
     * &lt;p/&gt;
     * A user can return to this FragmentActivity after following the prompt and correctly
     * installing/updating/enabling the Google Play services. Since the FragmentActivity may not
     * have been completely destroyed during this process (it is likely that it would only be
     * stopped or paused), {@link #onCreate(Bundle)} may not be called again so we should call this
     * method in {@link #onResume()} to guarantee that it will be called.
     */
    private void setUpMapIfNeeded() {
        // Do a null check to confirm that we have not already instantiated the map.
<span class="nc bnc" id="L47" title="All 2 branches missed.">        if (mMap == null) {</span>
            // Try to obtain the map from the SupportMapFragment.
<span class="nc" id="L49">            mMap = ((SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map))</span>
                    .getMap();
            // Check if we were successful in obtaining the map.
<span class="nc bnc" id="L52" title="All 2 branches missed.">            if (mMap != null) {</span>
<span class="nc" id="L53">                setUpMap();</span>
            }
        }
<span class="nc" id="L56">    }</span>

    /**
     * This is where we can add markers or lines, add listeners or move the camera. In this case, we
     * just add a marker near Africa.
     * &lt;p/&gt;
     * This should only be called once and when we are sure that {@link #mMap} is not null.
     */
    private void setUpMap() {
<span class="nc" id="L65">        mMap.addMarker(new MarkerOptions().position(new LatLng(0, 0)).title(&quot;Marker&quot;));</span>
<span class="nc" id="L66">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>